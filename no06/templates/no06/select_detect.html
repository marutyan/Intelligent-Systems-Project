<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>BBox Detection – Select Video</title>

<!-- Fonts / Icons -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/tabler-icons/2.47.0/iconfont/tabler-icons.min.css" rel="stylesheet">

<style>
:root{
  --blue  : #0b7ad2;
  --blue-d: #075aa3;
  --blue-l: #e8f1ff;
  --radius: 10px;
  font-family: "Inter", system-ui, sans-serif;
}
body{margin:0;padding:0;font-family:inherit;color:#333;}

h2{
  margin:.7rem 0 1.3rem;
  font-size:1.25rem;
  font-weight:600;
}

/* ---------- List group ---------- */
.list-group{
  border:1px solid #dfe4ee;
  border-radius:var(--radius);
  overflow:hidden;
}

.list-item{
  display:flex;align-items:center;gap:.65rem;
  padding:.75rem 1rem;
  border-bottom:1px solid #e8edf5;
  background:#fff;
  cursor:pointer;
  transition:background .15s,color .15s;
}
.list-item:last-child{border-bottom:none;}
.list-item:hover{background:var(--blue-l);}
.list-item input{pointer-events:none;}

.list-item.selected{
  background:var(--blue);
  color:#fff;
}
.list-item.selected i{color:#fff;}
.list-item i{color:var(--blue);}

.run-btn{
  margin-top:1.3rem;
  padding:.55rem 1.25rem;
  font-size:.92rem;font-weight:600;
  border:none;border-radius:var(--radius);
  background:var(--blue);color:#fff;cursor:pointer;
  transition:background .15s;
}
.run-btn:hover{background:var(--blue-d);}

#detect-result{margin-top:1.6rem;}
</style>
</head>
<body>

<h2>Select a video for BBox Detection</h2>

<form id="detect-select-form">

  <div class="list-group" id="video-list">
    {% for v in videos %}
      <label class="list-item">
        <input type="radio" name="video_id" value="{{ v.id }}">
        <i class="ti ti-video"></i> [{{ v.id }}] {{ v.name }}
      </label>
    {% empty %}
      <p style="padding:.8rem;">No videos available.</p>
    {% endfor %}
  </div>

  <button type="submit" class="run-btn"><i class="ti ti-focus-2"></i>&nbsp;Run BBox</button>
</form>

<div id="detect-result"></div>

<script>
/* --- 行クリックで選択ハイライト --- */
const list=document.getElementById('video-list');
list?.addEventListener('click',e=>{
  const row=e.target.closest('.list-item');
  if(!row) return;
  list.querySelectorAll('.list-item').forEach(r=>r.classList.remove('selected'));
  row.classList.add('selected');
  row.querySelector('input').checked=true;
});
</script>
</body>
</html>
